# Инструкция по установке и использованию бота Wildberries PVZ

## 1. Установка зависимостей

Откройте терминал в папке с ботом и выполните:

```
pip install python-telegram-bot playwright beautifulsoup4 nest_asyncio
python -m playwright install
```

## 2. Авторизация и сохранение cookies/localStorage

1. Запустите скрипт авторизации (если есть):
   ```
   python auth_playwright.py
   ```
2. В открывшемся окне войдите на сайт, дождитесь появления ваших данных (ПВЗ, поставки и т.д.).
3. После этого закройте окно и нажмите Enter в консоли. Файлы cookies.json и localstorage.json будут сохранены.

## 3. Настройка ALLOWED_USERS

В файле `wb_telegram_bot.py` найдите строку:
```
ALLOWED_USERS = ['your_username']
```
Чтобы добавить несколько пользователей, укажите их через запятую в кавычках:
```
ALLOWED_USERS = ['your_username', 'user2', 'user3']
```

- Используйте Telegram username (без @).
- Только пользователи из этого списка смогут получать уведомления и получать статус по запросу.

## 4. Запуск бота

```
python wb_telegram_bot.py
```

## 5. Как работает бот

- Бот отправляет уведомления только тем, кто есть в ALLOWED_USERS.
- Чтобы получать уведомления, пользователь должен хотя бы раз написать боту любое сообщение (бот не может писать первым).
- После этого бот будет присылать уведомления о новых поставках (если значения изменились и не равны нулю).
- На любое сообщение бот отвечает текущим статусом поставки.

## 6. Обновление cookies/localStorage

Если бот пишет "Сессия устарела" или не видит данные:
- Повторите шаг 2 (авторизация через playwright) для обновления cookies/localStorage.

---

**Вопросы и доработки — пишите!**
